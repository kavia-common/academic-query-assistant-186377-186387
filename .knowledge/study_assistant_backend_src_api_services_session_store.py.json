{"is_source_file": true, "format": "Python", "description": "This file implements an in-memory, thread-safe session store for chat histories, including classes for message storage, session data, and session management with methods for appending messages, retrieving history, clearing sessions, listing sessions, and obtaining session statistics.", "external_files": ["threading", "time", "typing"], "external_methods": ["threading.RLock", "time.time"], "published": ["InMemorySessionStore", "StoredMessage", "SessionData"], "classes": [{"name": "StoredMessage", "description": "TypedDict representing a stored chat message with role, content, and timestamp."}, {"name": "SessionData", "description": "Class holding chat history and metadata for a session, including creation and update timestamps."}, {"name": "InMemorySessionStore", "description": "Thread-safe class managing multiple chat sessions with methods to modify and retrieve session data."}], "methods": [{"name": "append_message", "description": "Adds a message to a session's history, creating the session if it doesn't exist."}, {"name": "get_history", "description": "Retrieves the message history for a session, optionally limited to the most recent messages."}, {"name": "clear_session", "description": "Removes a session and its history from the store."}, {"name": "list_sessions", "description": "Returns a list of all current session IDs."}, {"name": "session_stats", "description": "Provides basic statistics for a session, including timestamps and message count."}], "calls": ["threading.RLock", "time.time"], "search-terms": ["InMemorySessionStore", "session chat history", "thread-safe session management", "chat message storage", "session statistics"], "state": 2, "file_id": 5, "knowledge_revision": 41, "git_revision": "05758792f7148e9fec3292e373fa11173032f9a3", "revision_history": [{"11": ""}, {"41": "05758792f7148e9fec3292e373fa11173032f9a3"}], "ctags": [], "filename": "study_assistant_backend/src/api/services/session_store.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/academic-query-assistant-186377-186387.git:kavia-main"}