{"is_source_file": true, "format": "Python", "description": "FastAPI backend API implementation for an academic query assistant, including session management, chat interactions, and history retrieval.", "external_files": ["./config", "./deps", "./schemas", "./services/openai_client", "./services/session_store"], "external_methods": ["get_settings", "get_session_store", "ChatRequest.model_validate", "openai_client.get_ai_client"], "published": ["health_check", "create_session", "chat", "get_history"], "classes": [{"name": "InMemorySessionStore", "description": "In-memory storage for chat session histories."}], "methods": [{"name": "_ensure_session_id", "description": "Ensures a session ID exists, generating a new UUID if missing or blank."}, {"name": "_sanitize_val_error_detail", "description": "Sanitizes ValidationError details for JSON serialization, converting exceptions to strings."}, {"name": "_validate_question", "description": "Performs heuristic validation on input questions for length and clarity."}, {"name": "_history_to_messages", "description": "Converts stored message history into AI client message format."}], "calls": ["fastapi.FastAPI", "fastapi.middleware.cors.CORSMiddleware", "uuid.uuid4", "get_settings", "get_session_store", "ChatRequest.model_validate", "openai_client.get_ai_client", "client.chat"], "search-terms": ["FastAPI", "session management", "chat endpoint", "history retrieval", "academic query"], "state": 2, "file_id": 2, "knowledge_revision": 39, "git_revision": "d170f368e5cff3ccf682f1cb44de855afe7de113", "revision_history": [{"9": "635d1b304f05b294535f5b9aeb1db1b143057fe8"}, {"16": "05758792f7148e9fec3292e373fa11173032f9a3"}, {"21": "05758792f7148e9fec3292e373fa11173032f9a3"}, {"22": "20d3da011ff0beadda17df0177f4951415fbb890"}, {"30": "20d3da011ff0beadda17df0177f4951415fbb890"}, {"31": "e48d461d1902d74dc7104163695289d465209013"}, {"33": "f8266ebcb31766f0f88e1643e930d029541cf40f"}, {"34": "67883c3ab48970b1717982fe520aac5d934685e6"}, {"39": "d170f368e5cff3ccf682f1cb44de855afe7de113"}], "ctags": [], "filename": "study_assistant_backend/src/api/main.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/academic-query-assistant-186377-186387.git:kavia-main"}